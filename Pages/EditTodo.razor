@page "/todo/edit/{Id}"

<!-- Importation des espaces de noms et injection des dépendances -->
@using TodoListMauiApp.Models
@using TodoListMauiApp.Services
@inject ITodoService TodoService
@inject NavigationManager Navigation

<h3>Edit Todo</h3>

<!-- Vérifie si la tâche (todo) existe -->
@if (todo != null)
{
    <!-- Utilisation d'un formulaire de modification (EditForm) -->
    <EditForm Model="@todo" OnValidSubmit="HandleValidSubmit">
        <DataAnnotationsValidator />
        <div>
            <label for="Name">Name:</label>
            <!-- Utilisation d'un champ de texte lié bidirectionnellement à la propriété "Name" de la tâche -->
            <InputText id="Name" @bind-Value="todo.Name" />
            <!-- Affiche un message de validation pour la propriété "Name" si nécessaire -->
            <ValidationMessage For="() => todo.Name" />
        </div>
        <div>
            <label for="Description">Description:</label>
            <!-- Utilisation d'un champ de texte lié bidirectionnellement à la propriété "Description" de la tâche -->
            <InputText id="Description" @bind-Value="todo.Description" />
            <!-- Affiche un message de validation pour la propriété "Description" si nécessaire -->
            <ValidationMessage For="() => todo.Description" />
        </div>
        <!-- Bouton de soumission du formulaire -->
        <button type="submit">Save</button>
    </EditForm>
    <!-- Lien de retour à la liste des tâches -->
    <p><a href="fetchdata">Back to Todo List</a></p>
}
else
{
    <!-- Affiche un message si la tâche n'est pas trouvée -->
    <p>Todo not found!</p>
}

